<script lang="ts">
	import { resolve } from '$app/paths';
	import NavLinks from './NavLink/NavLinks.svelte';

	let burgerState: boolean = $state(false);

	const toggleBurger = () => {
		burgerState = !burgerState;
	};

	let links = $state([
		{
			active: false,
			name: 'projects'
		},
		{
			active: false,
			name: 'store'
		},
		{
			active: false,
			name: 'contact'
		}
	]);

	const handleClick = (i: number) => {
		const newLinks = [...links];

		newLinks.forEach((link) => {
			link.active = false;
		});
		if (i !== 3) {
			newLinks[i].active = true;
		}
		links = newLinks;
	};
</script>

<nav class="nav">
	<div class="nav__logo">
		<a
			onclick={() => {
				handleClick(3);
				burgerState = false;
			}}
			class="nav__logo__link"
			aria-label="Home Page"
			href={resolve('/')}
		>
			<svg
				class="nav__logo__link__svg"
				viewBox="0 0 91 14"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
				aria-label="EnzoDev Logo"
			>
				<path
					d="M6.35191 12.4C6.30924 12.4 6.26124 12.3893 6.20791 12.368C6.15457 12.336 6.10124 12.304 6.04791 12.272L0.463906 8.46399C0.314573 8.35732 0.19724 8.25599 0.111906 8.15999C0.0372396 8.05332 -9.37283e-05 7.91999 -9.37283e-05 7.75999V7.32799C-9.37283e-05 7.16799 0.0372396 7.03999 0.111906 6.94399C0.19724 6.83732 0.314573 6.73066 0.463906 6.62399L6.04791 2.81599C6.10124 2.79465 6.15457 2.77332 6.20791 2.75199C6.26124 2.71999 6.30924 2.70399 6.35191 2.70399C6.43724 2.70399 6.51191 2.73599 6.57591 2.79999C6.63991 2.85332 6.67191 2.92799 6.67191 3.02399V4.49599C6.67191 4.64532 6.62924 4.76799 6.54391 4.86399C6.45857 4.94932 6.36257 5.02399 6.25591 5.08799L2.55991 7.55199L6.25591 10.016C6.36257 10.08 6.45857 10.1547 6.54391 10.24C6.62924 10.3253 6.67191 10.448 6.67191 10.608V12.064C6.67191 12.1707 6.63991 12.256 6.57591 12.32C6.51191 12.3733 6.43724 12.4 6.35191 12.4ZM75.6302 13.92C75.5342 13.92 75.4542 13.8827 75.3902 13.808C75.3262 13.744 75.2942 13.6693 75.2942 13.584C75.2942 13.5307 75.3048 13.4773 75.3262 13.424L80.7662 0.367989C80.7982 0.282655 80.8515 0.202655 80.9262 0.127988C81.0115 0.042655 81.1342 -1.14441e-05 81.2942 -1.14441e-05H82.5262C82.6222 -1.14441e-05 82.7022 0.0373217 82.7662 0.111988C82.8302 0.175988 82.8622 0.250655 82.8622 0.335988C82.8622 0.378655 82.8515 0.431988 82.8302 0.495988L77.3742 13.552C77.3422 13.6267 77.2835 13.7067 77.1982 13.792C77.1235 13.8773 77.0008 13.92 76.8302 13.92H75.6302ZM84.5659 12.4C84.4806 12.4 84.4059 12.3733 84.3419 12.32C84.2779 12.256 84.2459 12.1707 84.2459 12.064V10.608C84.2459 10.448 84.2886 10.3253 84.3739 10.24C84.4592 10.1547 84.5552 10.08 84.6619 10.016L88.3579 7.55199L84.6619 5.08799C84.5552 5.02399 84.4592 4.94932 84.3739 4.86399C84.2886 4.76799 84.2459 4.64532 84.2459 4.49599V3.02399C84.2459 2.92799 84.2779 2.85332 84.3419 2.79999C84.4059 2.73599 84.4806 2.70399 84.5659 2.70399C84.6192 2.70399 84.6726 2.71999 84.7259 2.75199C84.7792 2.77332 84.8272 2.79465 84.8699 2.81599L90.4539 6.62399C90.6139 6.73066 90.7312 6.83732 90.8059 6.94399C90.8806 7.03999 90.9179 7.16799 90.9179 7.32799V7.75999C90.9179 7.91999 90.8806 8.05332 90.8059 8.15999C90.7312 8.25599 90.6139 8.35732 90.4539 8.46399L84.8699 12.272C84.8272 12.304 84.7792 12.336 84.7259 12.368C84.6726 12.3893 84.6192 12.4 84.5659 12.4Z"
					fill="#00F5FF"
				/>
				<path
					d="M9.24416 12.576C9.12682 12.576 9.03082 12.5387 8.95616 12.464C8.88149 12.3893 8.84416 12.2933 8.84416 12.176V1.77599C8.84416 1.65865 8.88149 1.56265 8.95616 1.48799C9.03082 1.41332 9.12682 1.37599 9.24416 1.37599H16.4922C16.6095 1.37599 16.7055 1.41332 16.7802 1.48799C16.8548 1.56265 16.8922 1.65865 16.8922 1.77599V3.05599C16.8922 3.16265 16.8548 3.25332 16.7802 3.32799C16.7055 3.40265 16.6095 3.43999 16.4922 3.43999H11.3082V5.95199H16.1402C16.2575 5.95199 16.3535 5.98932 16.4282 6.06399C16.5028 6.13866 16.5402 6.23466 16.5402 6.35199V7.53599C16.5402 7.64266 16.5028 7.73332 16.4282 7.80799C16.3535 7.88266 16.2575 7.91999 16.1402 7.91999H11.3082V10.512H16.6202C16.7375 10.512 16.8335 10.5493 16.9082 10.624C16.9828 10.6987 17.0202 10.7947 17.0202 10.912V12.176C17.0202 12.2933 16.9828 12.3893 16.9082 12.464C16.8335 12.5387 16.7375 12.576 16.6202 12.576H9.24416ZM19.1303 12.576C19.0236 12.576 18.9329 12.5387 18.8583 12.464C18.7836 12.3893 18.7463 12.2933 18.7463 12.176V4.65599C18.7463 4.53865 18.7836 4.44265 18.8583 4.36799C18.9329 4.29332 19.0236 4.25599 19.1303 4.25599H20.6983C20.8156 4.25599 20.9116 4.29332 20.9863 4.36799C21.0609 4.44265 21.0983 4.53865 21.0983 4.65599V5.27999C21.3756 4.93865 21.7329 4.65599 22.1703 4.43199C22.6076 4.20799 23.1409 4.09599 23.7703 4.09599C24.3996 4.09599 24.9489 4.23999 25.4183 4.52799C25.8983 4.80532 26.2716 5.21599 26.5383 5.75999C26.8156 6.29332 26.9543 6.94399 26.9543 7.71199V12.176C26.9543 12.2933 26.9116 12.3893 26.8263 12.464C26.7516 12.5387 26.6609 12.576 26.5543 12.576H24.8583C24.7409 12.576 24.6449 12.5387 24.5703 12.464C24.4956 12.3893 24.4583 12.2933 24.4583 12.176V7.80799C24.4583 7.24266 24.3196 6.80532 24.0423 6.49599C23.7756 6.17599 23.3809 6.01599 22.8583 6.01599C22.3569 6.01599 21.9569 6.17599 21.6583 6.49599C21.3596 6.80532 21.2103 7.24266 21.2103 7.80799V12.176C21.2103 12.2933 21.1729 12.3893 21.0983 12.464C21.0236 12.5387 20.9329 12.576 20.8263 12.576H19.1303ZM28.8713 12.576C28.7646 12.576 28.6739 12.5387 28.5993 12.464C28.5246 12.3893 28.4873 12.2933 28.4873 12.176V11.104C28.4873 10.9973 28.5086 10.9013 28.5513 10.816C28.6046 10.7307 28.6633 10.6507 28.7273 10.576L32.6473 6.11199H29.0153C28.8979 6.11199 28.8019 6.07466 28.7273 5.99999C28.6526 5.92532 28.6153 5.83466 28.6153 5.72799V4.65599C28.6153 4.53865 28.6526 4.44265 28.7273 4.36799C28.8019 4.29332 28.8979 4.25599 29.0153 4.25599H35.2553C35.3726 4.25599 35.4686 4.29332 35.5433 4.36799C35.6179 4.44265 35.6553 4.53865 35.6553 4.65599V5.80799C35.6553 5.90399 35.6339 5.98932 35.5913 6.06399C35.5486 6.13866 35.4953 6.21332 35.4313 6.28799L31.5913 10.72H35.5913C35.6979 10.72 35.7886 10.7573 35.8633 10.832C35.9379 10.9067 35.9753 10.9973 35.9753 11.104V12.176C35.9753 12.2933 35.9379 12.3893 35.8633 12.464C35.7886 12.5387 35.6979 12.576 35.5913 12.576H28.8713ZM41.2574 12.736C40.3721 12.736 39.6307 12.592 39.0334 12.304C38.4361 12.0053 37.9774 11.584 37.6574 11.04C37.3481 10.496 37.1774 9.86132 37.1454 9.13599C37.1347 8.92266 37.1294 8.68266 37.1294 8.41599C37.1294 8.13866 37.1347 7.89866 37.1454 7.69599C37.1774 6.95999 37.3587 6.32532 37.6894 5.79199C38.0201 5.24799 38.4841 4.83199 39.0814 4.54399C39.6787 4.24532 40.4041 4.09599 41.2574 4.09599C42.1001 4.09599 42.8201 4.24532 43.4174 4.54399C44.0147 4.83199 44.4787 5.24799 44.8094 5.79199C45.1401 6.32532 45.3214 6.95999 45.3534 7.69599C45.3747 7.89866 45.3854 8.13866 45.3854 8.41599C45.3854 8.68266 45.3747 8.92266 45.3534 9.13599C45.3214 9.86132 45.1454 10.496 44.8254 11.04C44.5161 11.584 44.0627 12.0053 43.4654 12.304C42.8681 12.592 42.1321 12.736 41.2574 12.736ZM41.2574 10.976C41.7801 10.976 42.1747 10.816 42.4414 10.496C42.7081 10.1653 42.8521 9.68532 42.8734 9.05599C42.8841 8.89599 42.8894 8.68266 42.8894 8.41599C42.8894 8.14932 42.8841 7.93599 42.8734 7.77599C42.8521 7.15732 42.7081 6.68266 42.4414 6.35199C42.1747 6.02132 41.7801 5.85599 41.2574 5.85599C40.7347 5.85599 40.3347 6.02132 40.0574 6.35199C39.7907 6.68266 39.6467 7.15732 39.6254 7.77599C39.6147 7.93599 39.6094 8.14932 39.6094 8.41599C39.6094 8.68266 39.6147 8.89599 39.6254 9.05599C39.6467 9.68532 39.7907 10.1653 40.0574 10.496C40.3347 10.816 40.7347 10.976 41.2574 10.976ZM47.6348 12.576C47.5174 12.576 47.4214 12.5387 47.3468 12.464C47.2721 12.3893 47.2348 12.2933 47.2348 12.176V1.77599C47.2348 1.65865 47.2721 1.56265 47.3468 1.48799C47.4214 1.41332 47.5174 1.37599 47.6348 1.37599H51.6508C52.7174 1.37599 53.6081 1.54665 54.3228 1.88799C55.0374 2.21865 55.5814 2.70932 55.9548 3.35999C56.3388 3.99999 56.5414 4.79466 56.5628 5.74399C56.5734 6.21332 56.5788 6.62399 56.5788 6.97599C56.5788 7.32799 56.5734 7.73332 56.5628 8.19199C56.5308 9.18399 56.3334 10.0053 55.9708 10.656C55.6081 11.3067 55.0748 11.792 54.3708 12.112C53.6668 12.4213 52.7868 12.576 51.7308 12.576H47.6348ZM49.7788 10.512H51.6508C52.1841 10.512 52.6214 10.432 52.9628 10.272C53.3041 10.112 53.5548 9.86132 53.7148 9.51999C53.8854 9.16799 53.9761 8.71466 53.9868 8.15999C53.9974 7.85066 54.0028 7.57332 54.0028 7.32799C54.0134 7.08266 54.0134 6.83732 54.0028 6.59199C54.0028 6.34666 53.9974 6.07466 53.9868 5.77599C53.9654 4.97599 53.7574 4.38932 53.3628 4.01599C52.9788 3.63199 52.3814 3.43999 51.5708 3.43999H49.7788V10.512ZM62.1145 12.736C60.8879 12.736 59.9119 12.3947 59.1865 11.712C58.4719 11.0293 58.0932 10.0373 58.0505 8.73599C58.0505 8.65066 58.0505 8.53866 58.0505 8.39999C58.0505 8.25066 58.0505 8.13332 58.0505 8.04799C58.0932 7.22666 58.2799 6.52266 58.6105 5.93599C58.9412 5.33866 59.4052 4.88532 60.0025 4.57599C60.5999 4.25599 61.2985 4.09599 62.0985 4.09599C62.9945 4.09599 63.7412 4.28265 64.3385 4.65599C64.9465 5.01865 65.3999 5.51999 65.6985 6.15999C66.0079 6.78932 66.1625 7.51466 66.1625 8.33599V8.70399C66.1625 8.81066 66.1199 8.90132 66.0345 8.97599C65.9599 9.05066 65.8692 9.08799 65.7625 9.08799H60.5305C60.5305 9.09866 60.5305 9.11999 60.5305 9.15199C60.5305 9.17332 60.5305 9.19466 60.5305 9.21599C60.5412 9.55732 60.6052 9.87199 60.7225 10.16C60.8505 10.4373 61.0265 10.6613 61.2505 10.832C61.4852 11.0027 61.7625 11.088 62.0825 11.088C62.3492 11.088 62.5679 11.0507 62.7385 10.976C62.9092 10.9013 63.0479 10.8107 63.1545 10.704C63.2719 10.5973 63.3572 10.5067 63.4105 10.432C63.5065 10.3253 63.5812 10.2613 63.6345 10.24C63.6985 10.208 63.7945 10.192 63.9225 10.192H65.5865C65.6932 10.192 65.7785 10.224 65.8425 10.288C65.9172 10.3413 65.9492 10.4213 65.9385 10.528C65.9279 10.6987 65.8372 10.912 65.6665 11.168C65.5065 11.4133 65.2665 11.6587 64.9465 11.904C64.6265 12.1387 64.2265 12.336 63.7465 12.496C63.2772 12.656 62.7332 12.736 62.1145 12.736ZM60.5305 7.63199H63.6665V7.59999C63.6665 7.21599 63.6025 6.88532 63.4745 6.60799C63.3572 6.31999 63.1812 6.09599 62.9465 5.93599C62.7119 5.77599 62.4292 5.69599 62.0985 5.69599C61.7679 5.69599 61.4852 5.77599 61.2505 5.93599C61.0159 6.09599 60.8345 6.31999 60.7065 6.60799C60.5892 6.88532 60.5305 7.21599 60.5305 7.59999V7.63199ZM70.3934 12.576C70.2334 12.576 70.1107 12.5387 70.0254 12.464C69.9507 12.3787 69.8867 12.2827 69.8334 12.176L66.8254 4.75199C66.8041 4.70932 66.7934 4.66132 66.7934 4.60799C66.7934 4.51199 66.8254 4.43199 66.8894 4.36799C66.9641 4.29332 67.0494 4.25599 67.1454 4.25599H68.6974C68.8361 4.25599 68.9374 4.29332 69.0014 4.36799C69.0761 4.44265 69.1241 4.51199 69.1454 4.57599L71.1134 9.85599L73.0814 4.57599C73.1134 4.51199 73.1614 4.44265 73.2254 4.36799C73.3001 4.29332 73.4014 4.25599 73.5294 4.25599H75.0814C75.1774 4.25599 75.2574 4.29332 75.3214 4.36799C75.3961 4.43199 75.4334 4.51199 75.4334 4.60799C75.4334 4.66132 75.4281 4.70932 75.4174 4.75199L72.3934 12.176C72.3507 12.2827 72.2867 12.3787 72.2014 12.464C72.1161 12.5387 71.9934 12.576 71.8334 12.576H70.3934Z"
					fill="white"
				/>
			</svg>
		</a>
	</div>
	<ul class="nav__list">
		<NavLinks {links} {handleClick} />
	</ul>

	<div class="nav__burger">
		<button
			class={`nav__burger__btn ${burgerState === true && 'nav__burger__btn--active'}`}
			onclick={() => toggleBurger()}
			aria-label="Toggle menu"
		>
			<span aria-hidden="true"></span>
			<span aria-hidden="true"></span>
			<span aria-hidden="true"></span>
		</button>
		<ul class={`nav__burger__menu ${burgerState === true && 'nav__burger__menu--active'}`}>
			<NavLinks {links} {handleClick} bind:burgerState />
		</ul>
	</div>
</nav>

<style lang="scss">
	.nav {
		position: fixed;
		display: flex;
		justify-content: space-between;
		align-items: center;
		width: 100%;
		height: 6rem;
		background-color: $bg-nav;
		z-index: 50;

		&__logo {
			margin-left: 3rem;
			&__link {
				&__svg {
					width: 8rem;
				}
			}
		}

		&__list {
			width: 30%;
			display: flex;
			justify-content: space-between;
			align-items: center;
			list-style: none;
			margin-right: 3rem;

			@include lg {
				width: 35%;
				gap: 0.8rem;
			}

			@include md {
				display: none;
			}
		}

		&__burger {
			display: none;

			@include md {
				display: flex;
				align-items: center;
				justify-content: center;
				position: relative;
			}
			&__btn {
				display: flex;
				position: relative;
				flex-direction: column;
				justify-content: space-between;
				background: none;
				border: none;
				width: 1.3rem;
				height: 1rem;
				margin-right: 3rem;
				cursor: pointer;

				& > span {
					width: 1.3rem;
					height: 0.2rem;
					background-color: $accent-cyan;
					border-radius: 1rem;
				}

				&--active span:first-child {
					position: absolute;
					top: 50%;
					left: 0;
					transform: translateY(-50%) rotate(45deg);
				}

				&--active span:nth-child(2) {
					display: none;
				}

				&--active span:last-child {
					position: absolute;
					top: 50%;
					left: 0;
					transform: translateY(-50%) rotate(-45deg);
				}
			}

			&__menu {
				display: none;
				&--active {
					display: flex;
					align-items: center;
					justify-content: space-around;
					flex-direction: column;
					position: absolute;
					top: 4rem;
					right: 0.6rem;
					width: 10rem;
					height: 12rem;
					border-radius: 0.3rem;
					background-color: $bg-nav;
					list-style: none;
					animation: slideIn 0.3s ease-out;
				}
			}
		}
	}

	@keyframes slideIn {
		from {
			opacity: 0;
			transform: translateY(-10px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
</style>
